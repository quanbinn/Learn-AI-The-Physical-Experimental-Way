# 用反向传播算法求出梯度的1个向量

## 开始做

### 1. 依据偏导数的链式法则，[4-4 NN（误差反向传播法）.xlsx](http://www.ituring.com.cn/book/2593)中第1个学习的例子的代价相对于某一个权重的梯度的运算过程，如下图所示。

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/1a1.jpg)

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/1a2.jpg)

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/1a3.jpg)

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/1a4.jpg)

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/1a5.jpg)

#### 把[4-4 NN（误差反向传播法）.xlsx](http://www.ituring.com.cn/book/2593)相应的数值带入上面的公式，运算结果如下图所示。

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/1a6.jpg)

### 2.神经单元误差（error）的变量的表示方法（符号和相应的含义），如下图所示。

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/2a1.jpg)

### 3. 依据偏导数的链式法则，同时应用神经单元误差（error）的变量，[4-4 NN（误差反向传播法）.xlsx](http://www.ituring.com.cn/book/2593)中第1个学习的例子的代价相对于某一个权重的梯度的运算公式，如下图所示。

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/3a1.jpg)

### 4. 继续依据偏导数的链式法则，同时应用神经单元误差（error）的变量，[4-4 NN（误差反向传播法）.xlsx](http://www.ituring.com.cn/book/2593)中第1个学习的例子的代价相对于某一个权重的梯度的运算公式，和神经单元误差（error）的变量的表示方法（符号和相应的含义），分别如下图所示。

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/4a1.jpg)

### 5. 加入神经单元误差（error）的变量的实体模型块后，用实体模型表示神经网络计算4-4 NN（误差反向传播法）.xlsx中第1个学习的例子的代价函数的运算过程，分别如下图所示。

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/5a1.jpg)

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/5a2.jpg)

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/5a3.jpg)

### 6.用矩阵便是相应的神经单元误差（error）的变量的计算公式，分别如下图所示。 

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/6a1.jpg)

![](/images/体验神经网络中的数学原理/用反向传播算法求出梯度的1个向量/6a2.jpg)

## 参考文献及资料

1. 维基百科
	- [Backpropagation](https://en.wikipedia.org/wiki/Backpropagation) 

2. [【Excel示例文件】深度学习的数学.rar中的4-4 NN（误差反向传播法）.xlsx](http://www.ituring.com.cn/book/2593)